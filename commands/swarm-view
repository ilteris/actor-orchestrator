#!/bin/bash
# swarm-view: A "Conductive" TUI for the Actor-Orchestrator Swarm
# Orchestrates modular TUI scripts into a tmux layout.

PROJECT_DIR=$(pwd)
EXT_DIR="/Users/ilteris/Code/actor-orchestrator"

# Check if we are already in tmux
if [ -z "$TMUX" ]; then
  echo "Error: swarm-view must be run from inside a tmux session."
  exit 1
fi

# Set Pane Titles and Borders
tmux set -p pane-border-status top
tmux select-pane -t 0 -T "[ ðŸ§  SUPERVISOR ]"

# Execute Modular Splits
tmux split-window -h -l 50 "$EXT_DIR/commands/swarm-pane-blackboard $PROJECT_DIR/tasks"
tmux split-window -v -l 15 "$EXT_DIR/commands/swarm-pane-telemetry"

tmux select-pane -L
tmux select-pane -U
clear
echo "--- Swarm Mission Control (Modular) ---"
echo "Layout initialized using modular pane scripts."