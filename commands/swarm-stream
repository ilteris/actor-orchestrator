#!/bin/bash
# swarm-stream: High-Fidelity Log Streamer for Actor-Orchestrator
TASK_ID=$1
LOG_FILE="/tmp/actor-orchestrator/worker-$TASK_ID.log"

if [ -z "$TASK_ID" ]; then
  echo "Usage: swarm-stream <task_id>"
  exit 1
fi

# High-Fidelity Styling
BOLD="\033[1m"
CYAN="\033[36m"
RESET="\033[0m"
CLEAR="\033[2J\033[H"

# Initial Header
echo -e "${CLEAR}${BOLD}${CYAN}â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”${RESET}"
echo -e "${BOLD}${CYAN}â”‚  ğŸ” FOCUS MODE: worker-$TASK_ID | Streaming Live Thoughts             â”‚${RESET}"
echo -e "${BOLD}${CYAN}â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜${RESET}"
echo -e "${BOLD}Press Ctrl+C to return to Dashboard.${RESET}\n"

# Stream the log with a subtle prefix
tail -f "$LOG_FILE" | while read -r line; do
  echo -e "  \033[90mâ”‚\033[0m $line"
done